<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper	namespace="SmartMdmDAO">

	<select id="selectCommonCodeList" parameterType="comDefaultVO" resultType="java.util.HashMap">
		
		SELECT * FROM CAT_COMGROUPCODE
	</select>

	<select id="selectBizList" parameterType="egovframework.smart.mdm.service.SmartMdmBizVO" resultType="java.util.HashMap">
		
		SELECT * FROM CAR_CUSTCORP
		WHERE 1=1
		<if test="searchCondition == 'CUST_ID'">
			AND CUST_ID LIKE '%'||#{searchKeyword}||'%'
		</if>
		<if test="searchCondition == 'CUST_NM'">
			AND CUST_NM LIKE '%'||#{searchKeyword}||'%'
		</if>
	</select>
	<insert id="insertaddBiz" parameterType="egovframework.smart.mdm.service.SmartMdmBizVO">
		INSERT INTO CAR_CUSTCORP (IDX,CUST_ID,CUST_NM,ADDRESS,TEL,CUST_NAME,ITEM,REMARK,CUST_TYPE,USE_YN) 
		VALUES (SEQ_CAR_CUSTCORP.NEXTVAL,#{Custid},#{Custnm},#{Address},#{Tel},#{Custname},#{Item},#{Remark},#{Custtype},#{Useyn})
	</insert>
	 
	 <select id="checkCustid" resultType="int">
     
          SELECT COUNT(1) usedCnt
             					FROM(
             							SELECT
                								 CUST_ID             CustId
             									 FROM    CAR_CUSTCORP
             									 ) A
               WHERE CustId =  #{checkId}
     
    </select>
    
</mapper>